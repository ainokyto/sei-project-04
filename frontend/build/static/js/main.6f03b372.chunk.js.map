{"version":3,"sources":["components/common/Home.js","components/common/Hero.js","components/lib/auth.js","components/common/Navbar.js","components/lib/api.js","components/business/WineCard.js","components/business/MakerShow.js","components/business/MakerCard.js","components/business/MakersIndex.js","components/business/ReviewCard.js","components/business/ReviewAuth.js","components/business/ReviewForm.js","components/business/Reviews.js","components/business/WineShow.js","components/business/About.js","components/business/WineIndex.js","components/business/Profile.js","components/auth/Register.js","components/auth/Login.js","components/common/ErrorPage.js","components/common/Footer.js","App.js","index.js"],"names":["Home","to","className","onMouseEnter","e","target","style","color","onMouseLeave","React","Component","Hero","setToken","token","window","localStorage","setItem","getToken","getItem","logOut","removeItem","getPayload","parts","split","length","JSON","parse","atob","isOwner","id","sub","isAuthenticated","payload","Math","round","Date","now","exp","toastColor","background","text","Navbar","state","isOpen","handleLogOut","props","history","push","notify","show","prevProps","this","location","pathname","console","log","setState","role","onClick","type","withRouter","withHeaders","headers","Authorization","registerUser","formData","axios","post","loginUser","getCurrentUser","get","getAllWines","getAllReviews","createReview","deleteReview","delete","WineCard","src","image","alt","name","vintage","colour","MakerShow","maker","makerId","match","params","res","data","owner","region","country","wines","map","wine","key","MakerCard","MakersIndex","makers","ReviewCard","rating","username","content","value","handleEdit","handleDelete","ReviewAuth","ReviewForm","handleChange","event","handleMultiChange","selected","handleSubmit","a","preventDefault","group","response","onSubmit","options","Object","values","onChange","placeholder","Reviews","reviews","loadData","reverse","getWines","label","reviewId","err","review","WineShow","wineId","producer","grape_varieties","description","About","WineIndex","Profile","Register","profile_image","email","bio","password","password_confirmation","redirect","errors","status","loginResponse","Error","handleErrors","kind","Login","error","componentDidUpdate","NotFound","Footer","App","exact","path","component","ErrorPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6f03b372.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\nclass Home extends React.Component {\n  render() {\n    return(\n      <div>\n        <h1>home</h1>\n\n        <Link to={`/people`}>\n          <h3 className=\"show-title\">\n          <span onMouseEnter={(e) =>\n              e.target.style.color = '#0147F9'}\n              onMouseLeave={(e) =>\n                e.target.style.color = '#232323'}\n            >go to producers</span>\n          </h3>\n        </Link>\n\n        <Link to={`//people/wines`}>\n          <h3 className=\"show-title\">\n          <span onMouseEnter={(e) =>\n              e.target.style.color = '#0147F9'}\n              onMouseLeave={(e) =>\n                e.target.style.color = '#232323'}\n            >go to wines</span>\n          </h3>\n        </Link>\n\n        <Link to={`/about`}>\n          <h3 className=\"show-title\">\n          <span onMouseEnter={(e) =>\n              e.target.style.color = '#0147F9'}\n              onMouseLeave={(e) =>\n                e.target.style.color = '#232323'}\n            > what is wino?</span>\n          </h3>\n        </Link>\n\n      </div>\n    )\n  }\n}\n\nexport default Home","import React from 'react'\n\nconst Hero = () => (\n  <div className=\"hero-main\">\n    <div className=\"hero-title-wrapper\">\n      <h1 className=\"hero-title\">wino .</h1>\n    </div>\n    <h3>natural wine community</h3>\n  </div>\n)\n\nexport default Hero","export const setToken = token => {\n  window.localStorage.setItem('token', token)\n}\n\nexport const getToken = () => {\n  return window.localStorage.getItem('token')\n}\n\n// Removing token from local storage will log user out\n\nexport const logOut = () => {\n  localStorage.removeItem('token')\n}\n\n// Functions to decode tokens so that any sensitive information can't be extracted from them\n\nconst getPayload = () => {\n  const token = getToken() // Returns the decoded data from the token or false\n  if (!token) return false \n  const parts = token.split('.') \n  if (parts.length < 3) return false \n  return JSON.parse(window.atob(parts[1]))\n}\n\n// Function to check whether the user that created review is the same user logged in \n\nexport const isOwner = id => { \n  const userId = getPayload().sub\n  return userId === id \n}\n\n// Function to work out if user is logged in or not \n\nexport const isAuthenticated = () => {\n  const payload = getPayload()\n  if (!payload) return false \n  const now = Math.round(Date.now() / 1000)\n  return now < payload.exp\n}\n\nexport const getUserId = () => {\n  return getPayload()\n}","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { isAuthenticated, logOut } from '../lib/auth'\nimport Notifications, { notify } from 'react-notify-toast'\n\nconst toastColor = { background: '#232323', text: '#fedfe2' }\n\nclass Navbar extends React.Component {\n  state = { isOpen: false }\n\n  handleLogOut = () => {\n    logOut() // call the function\n    this.props.history.push('/') // redirect to home pge\n    notify.show('you\\'ve been logged out', 'custom', 5000, toastColor)\n  }\n\n  // whenever pathname changes the navbar closes\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      console.log(this.props.location.pathname)\n      console.log(prevProps.location.pathname)\n      this.setState({ isOpen: true })\n    }\n  }\n\n  render() {\n    return (\n      <nav role=\"navigation\" className=\"navbar\">\n        <Notifications />\n        <div className=\"menuToggle\" onClick={() => this.setState({ isOpen: !this.state.isOpen })}>\n          <input type=\"checkbox\" />\n          <span></span>\n          <span></span>\n          <span></span>\n          <ul className=\"menu\">\n            <Link to=\"/people\"><li>people</li></Link>\n            <Link to=\"/people/wines\"><li>wines</li></Link>\n            <Link to=\"/about\"><li>about</li></Link>\n            {!isAuthenticated() && <Link to=\"/login\"><li>sign in</li></Link>}\n            {!isAuthenticated() && <Link to=\"/register\"><li>register</li></Link>}\n            {isAuthenticated() && <Link to=\"/reviews\"><li>add review</li></Link>}\n            {isAuthenticated() && <li onClick={this.handleLogOut}>log out</li>}\n          </ul>\n        </div>\n      </nav>\n    )\n  }\n}\n\n\nexport default withRouter(Navbar)\n\n","import axios from 'axios'\nimport { getToken } from './auth'\n\nconst withHeaders = () => {\n  return {\n    headers: { Authorization: `Bearer ${getToken()}` }\n  }\n}\n\nexport const registerUser = formData => {\n  return axios.post(`/api/auth/register/`, formData)\n}\n\nexport const loginUser = formData => {\n  return axios.post(`/api/auth/login/`, formData)\n}\n\nexport const getCurrentUser = () => {\n  return axios.get (`api/auth/profile/`, withHeaders())\n}\n\nexport const getAllWinemakers = () => {\n  return axios.get('/api/winemakers/')\n} \n\nexport const getOneWinemaker = id => {\n  return axios.get(`/api/winemakers/${id}/`)\n}\n\nexport const getAllWines = () => {\n  return axios.get('/api/winemakers/wines/')\n} \n\nexport const getOneWine = id => {\n  return axios.get(`/api/winemakers/wines/${id}/`)\n}\n\nexport const getAllReviews = () => {\n  return axios.get(`/api/reviews/`, withHeaders())\n}\n\nexport const createReview = formData => {\n  return axios.post(`api/reviews/`, formData, withHeaders())\n}\n\nexport const editReview = (id, formData) => {\n  return axios.put(`api/reviews/${id}/`, formData, withHeaders())\n}\n\nexport const deleteReview = id => {\n  return axios.delete(`api/reviews/${id}/`, withHeaders())\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst WineCard = props => (\n\n  <div className=\"card-container\">\n    <div className=\"card\">\n      <Link to={`/people/wines/${props.id}`} >\n        <div className=\"card-img-wrapper\">\n            <img src={props.image} alt={props.name} />\n        </div>\n        <div className=\"card-info\">\n          <h4>{props.name}, {props.vintage} | <span>{props.colour}</span></h4>\n        </div>\n      </Link>\n    </div>\n  </div>\n\n)\n\nexport default WineCard","import React from 'react'\nimport { getOneWinemaker } from '../lib/api'\nimport Winecard from './WineCard'\nimport { Link } from 'react-router-dom'\n\nclass MakerShow extends React.Component {\n  state = {\n    maker: null,\n  }\n\n  async componentDidMount() {\n    try {\n      const makerId = this.props.match.params.id\n      const res = await getOneWinemaker(makerId)\n      const maker = res.data\n      this.setState({ maker })\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  render() {\n    const { maker } = this.state\n    if (!maker) return null\n    console.log(maker)\n    return (\n      <div>\n        <div className=\"maker-header\">\n          <div className=\"show-title\">\n            <h1>{maker.name}</h1>\n          </div>\n            <img className=\"maker-img\" src={maker.image} alt={maker.name} />\n        </div>\n\n        <div className=\"show-title\">\n          <h3>{maker.owner}</h3>\n          <h3>{maker.region}, {maker.country}</h3>\n        </div>\n        <div>\n\n          {maker.wines.map(wine => (\n            <Winecard key={wine.id} {...wine} />\n          ))}\n\n        </div>\n        <Link to={`/people/wines`}>\n          <h3 className=\"show-title\" >back to\n          <span onMouseEnter={(e) =>\n              e.target.style.color = '#0147F9'}\n              onMouseLeave={(e) =>\n                e.target.style.color = '#232323'}\n            > all wines</span>\n          </h3>\n        </Link>\n      </div>\n\n    )\n  }\n}\n\nexport default MakerShow","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst MakerCard = ({ id, name, region, country, image }) => (\n\n  <div className=\"card-container\">\n    <div className=\"card\">\n      <Link to={`/people/${id}/`}>\n        <div className=\"card-img-wrapper\">\n          <img src={image} alt={name} />\n        </div>\n        <div className=\"card-info\">\n          <h3>{name}</h3>\n          <h5>{region}, {country}</h5>\n        </div>\n      </Link>\n    </div>\n  </div>\n\n)\n\nexport default MakerCard","import React from 'react'\nimport { getAllWinemakers } from '../lib/api'\nimport MakerCard from './MakerCard'\n\nclass MakersIndex extends React.Component {\n  state = {\n    makers: []\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getAllWinemakers()\n      // console.log(res.data)\n      const makers = res.data\n      this.setState({ makers })\n      console.log(this.state)\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  render() {\n\n    if (!this.state.makers) return null\n    const { makers } = this.state\n    console.log(makers)\n\n    return (\n      <>\n        <h1 className=\"index-h1\">all producers</h1>\n        <div className=\"index\">\n          {makers.map(maker => (\n            <MakerCard key={maker.id} {...maker} />\n          ))}\n        </div>\n      </>\n    )\n  }\n}\n\nexport default MakersIndex\n","import React from 'react'\nimport { isOwner } from '../lib/auth'\n\nconst ReviewCard = props => (\n\n  <div className=\"card-container\">\n    <div className=\"card\">\n      <h4>{props.rating}, {props.wine.name}</h4>\n      <h4>{props.owner.username} </h4>\n      <img className=\"review-img\" src={props.wine.image} alt={props.wine.name} />\n      <p>{props.content}</p>\n      {isOwner(props.owner.id) && <button value={props.id} onClick={props.handleEdit}>edit</button>}\n      {isOwner(props.owner.id) && <button value={props.id} onClick={props.handleDelete}>delete</button>}\n    </div>\n  </div>\n)\n\nexport default ReviewCard","import React from 'react' \nimport { Link } from 'react-router-dom'\n\nconst ReviewAuth = () => {\n  return (\n    <div>\n      <h1>\n        you must be\n      <Link to={'/login'}>\n          <span\n            onMouseEnter={(e) =>\n              e.target.style.color = '#0147F9'}\n            onMouseLeave={(e) =>\n              e.target.style.color = '#232323'} > signed in </span>\n        </Link>\n  to add and read reviews.</h1>\n    </div>\n  )\n}\n\n\nexport default ReviewAuth","import React from 'react'\nimport Select from 'react-select'\nimport { createReview } from '../lib/api'\n\nclass ReviewForm extends React.Component {\n  state = {\n    formData: {\n      rating: null,\n      content: null,\n      wine: null\n    }\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData })\n  }\n\n  handleMultiChange = selected => {\n    const formData = { ...this.state.formData, wine: selected.value }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async (event) => {\n    event.preventDefault()\n    console.log('submitted')\n    try {\n      const res = await createReview(this.state.formData)\n      this.props.history.push('/reviews')\n      console.log(res.data)\n    } catch (err) {\n      console.group(err.response)\n    }\n  }\n\n  render() {\n    console.log(this.props)\n    const { formData } = this.state\n    return (\n      <div className=\"form-container\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"control\">\n            <div className=\"control\">\n              <Select className=\"selectbox\"\n                options={Object.values(this.props)}\n                onChange={this.handleMultiChange}\n              />\n              <div>\n              <label>rate from 1 to 5</label>\n              </div>\n              <select\n                onChange={this.handleChange}\n                value={formData.rating}\n                className=\"rating\"\n                name=\"rating\"\n                placeholder=\"rating\"\n              >\n                <option value=\"\" selected> </option>\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n                <option value=\"5\">5</option>\n              </select>\n            </div>\n            <div className=\"control\">\n              <textarea\n                className=\"textarea\"\n                name=\"content\"\n                placeholder=\"write your review\"\n                onChange={this.handleChange}\n                value={formData.content}\n              />\n            </div>\n          </div>\n          <button type=\"submit\">submit</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default ReviewForm","import React from 'react'\nimport Notifications, { notify } from 'react-notify-toast'\nimport { getAllReviews, getAllWines, deleteReview } from '../lib/api'\nimport ReviewCard from './ReviewCard'\nimport ReviewAuth from './ReviewAuth'\nimport ReviewForm from './ReviewForm'\nimport { isAuthenticated } from '../lib/auth'\n\nconst toastColor = { background: '#232323', text: '#fedfe2' }\n\nclass Reviews extends React.Component {\n  state = {\n    reviews: [],\n    wines: []\n  }\n\n  async componentDidMount() {\n    try {\n      this.loadData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  loadData = async () => {\n    try {\n      const res = await getAllReviews()\n      const reviews = res.data.reverse()\n      const getWines = await getAllWines()\n      const wines = getWines.data.map(wine => {\n        return ({ value: wine.id, label: wine.name })\n      })\n      console.log(wines)\n      this.setState({ reviews, wines })\n    } catch (err) {\n      console.log(err)\n    }\n\n  }\n\n  handleDelete = async event => {\n    try {\n      const reviewId = event.target.value\n      await deleteReview(reviewId)\n      this.props.history.push('/reviews')\n      notify.show('review deleted', 'custom', 4000, toastColor)\n      this.loadData()\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  // handleEdit = async event => {\n  //   try {\n  //     event.preventDefault()\n  //     const reviewId = event.target.value\n  //     // await editReview(reviewId, this.state.formData) //!\n  //     this.history.push(`/profile`)\n  //     notify.show('review edited', 'custom', 4000, toastColor)\n  //   } catch (err) {\n  //     console.log(err)\n  //   }\n  // }\n\n  render() {\n    const { reviews, wines } = this.state\n    console.log(reviews)\n    return (\n      <div className=\"reviews-main\">\n        {isAuthenticated() ?\n          <>\n            <Notifications />\n            <div className=\"reviews-form\">\n              <h1 className=\"reviews-title\">write a review</h1>\n              <ReviewForm {...wines} />\n            </div>\n              <h2 className=\"reviews-title\">latest reviews</h2>\n            <div className=\"reviews-latest\">\n              {reviews.map(review => (\n                <div key={review.id}>\n                  <ReviewCard\n                    key={review.id}\n                    {...review}\n                    handleDelete={this.handleDelete}\n                  // handleEdit={this.handleEdit}\n                  />\n                </div>\n\n              ))}\n            </div>\n          </>\n          :\n          <ReviewAuth />\n        }\n      </div>\n\n    )\n  }\n}\n\n\n\nexport default Reviews","import React from 'react'\nimport { getOneWine } from '../lib/api'\nimport { isAuthenticated } from '../lib/auth'\nimport { Link } from 'react-router-dom'\nimport ReviewAuth from './ReviewAuth'\n\nclass WineShow extends React.Component {\n  state = {\n    wine: ''\n  }\n\n  async componentDidMount() {\n    const wineId = this.props.match.params.id\n    const res = await getOneWine(wineId)\n    const wine = res.data\n    console.log(wine)\n    this.setState({ wine })\n  }\n\n  render() {\n    const { wine } = this.state\n    if (!wine) return null\n    console.log(wine)\n    return (\n      <main>\n        <div className=\"show-title\">\n          <h1>{wine.name}</h1>\n          <Link to={`/people/${wine.producer.id}`}>\n            <h2 onMouseEnter={(e) =>\n              e.target.style.color = '#0147F9'}\n              onMouseLeave={(e) =>\n                e.target.style.color = '#232323'} >\n              {wine.producer.name}\n            </h2>\n          </Link>\n        </div>\n        <hr />\n        <div>\n          <section className=\"show-info-container\">\n            <div className=\"img-wrapper\">\n                <img src={wine.image} alt={wine.name} />\n            </div>\n            <div className=\"show-info\">\n              <h4>country: </h4><p> {wine.producer.country}</p>\n              <h4>region: </h4><p> {wine.producer.region}</p>\n              <h4>grapes: </h4><p> {wine.grape_varieties}</p>\n            <h4>description: </h4>  \n            <p>{wine.description}</p>\n            {isAuthenticated() ? \n                <Link to={`/reviews`}>\n                <button>write a review</button>\n                </Link>\n              : <ReviewAuth /> }\n            </div>\n          </section>\n          <Link to={`/people/${wine.producer.id}`}>\n            <h3 className=\"show-title\"\n              onMouseEnter={(e) =>\n                e.target.style.color = '#0147F9'}\n              onMouseLeave={(e) =>\n                e.target.style.color = '#232323'} >\n              {wine.producer.name}\n            </h3>\n          </Link>\n        </div>\n\n      </main>\n    )\n  }\n}\n\nexport default WineShow\n","import React from 'react'\n\nconst About = () => (\n  <>\n  <h1>What is Natural Wine?</h1>\n  <hr />\n  <h3>\n    Natural Wine is farmed organically (biodynamically, using permaculture or the like) and made (or rather transformed) without adding or removing anything in the cellar. No additives or processing aids are used, and ‘intervention’ in the naturally occurring fermentation process is kept to a minimum. As such neither fining nor (tight) filtration are used. The result is a living wine – wholesome and full of naturally occurring microbiology.\n  </h3>\n  <hr />\n  <p>Some maintain that wine has never been better, cleaner, more consistent, or travelled so well as it does today. Equally, wine has never been made with so many pesticides, additives, preservatives and processes. Most wines, including some Bordeaux crus classés, Champagne Grande Marques and household brands are nowadays no longer made exclusively from grapes. They are products of the agrochemical food industry. The concept of wine’s ‘poetry’, its artistry or romantism, or indeed its exceptionality as a product with a sense of place is becoming rarer.</p>\n  <p>Wines at WINO are not that. They are natural, artisan products. They come from organic agriculture, as a minimum, but may also be from farms that are biodynamic or use permaculture or perhaps the Fukuoka model. The agricultural practices used are sustainable. What sets the wines apart though from other conventional organic and biodynamic wines, is that they are made naturally in the cellar. WINO is about fine, low-intervention organic, biodynamic and natural wines that are true to where they are from – that have an authenticity of taste that most wines today have lost.</p>\n  <p>It is difficult to comprehend how rare this is unless you understand where the vast majority of wine is at today. RAW WINE is therefore committed to transparency, as Isabelle Legeron MW says “my aim is to promote transparency in the wine world in order to support the art of authentic wine production. I want to help people think about what they drink. It is not about condemning practices; it is about raising awareness so that people can decide what they drink. At the moment, they can’t.”</p>\n  </>\n)\n\nexport default About","import React from 'react'\nimport { getAllWines } from '../lib/api'\nimport WineCard from './WineCard'\n\nclass WineIndex extends React.Component {\n  state = {\n    wines: []\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getAllWines()\n      const wines = res.data\n      this.setState({ wines })\n      console.log(this.state.wines)\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  render() {\n    const { wines } = this.state\n    if (!wines) return null\n    // const { wines } = this.state\n    // console.log(wines)\n    return (\n      <>\n        <h1 className=\"index-h1\">all wines</h1>\n        <div className=\"index\">\n          {wines.map(wine => (\n            <div key={wine.id}>\n              <WineCard key={wine.id} {...wine} />\n            </div>\n            // <div>{item.name}</div>\n          ))}\n        </div>\n      </>\n    )\n  }\n}\n\nexport default WineIndex","import React from 'react'\nimport Notifications, { notify } from 'react-notify-toast'\nimport { getCurrentUser, deleteReview, editReview } from '../lib/api'\nimport ReviewCard from './ReviewCard'\n\nconst toastColor = { background: '#232323', text: '#fedfe2' }\n\nclass Profile extends React.Component {\n  state = {\n    reviews: [],\n    // formData //!\n  }\n\n  async componentDidMount() {\n    try {\n      this.loadData()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  loadData = async () => {\n    try {\n      const res = await getCurrentUser()\n      // console.log(res.data)\n      const reviews = res.data.reviews.reverse()\n      console.log(reviews)\n      this.setState({ reviews })\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  handleDelete = async event => {\n    try {\n      const reviewId = event.target.value\n      await deleteReview(reviewId)\n      this.props.history.push('/profile')\n      notify.show('review deleted', 'custom', 4000, toastColor)\n      this.loadData()\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  handleEdit = async event => {\n    try {\n      event.preventDefault()\n      const reviewId = event.target.value\n      // await editReview(reviewId, this.state.formData) //!\n      this.history.push(`/profile`)\n      notify.show('review edited', 'custom', 4000, toastColor)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render() {\n    const { reviews } = this.state\n    if (!reviews) return null\n    return (\n      <div>\n      <Notifications />\n        {reviews.map(review => (\n          <div className=\"reviews\" key={review.id}>\n            <ReviewCard \n            key={review.id} \n            { ...review }\n            handleDelete={this.handleDelete}\n            handleEdit={this.handleEdit}\n            />\n          </div>\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default Profile","import React from 'react'\nimport { registerUser, loginUser } from '../lib/api'\nimport { Link } from 'react-router-dom'\nimport { setToken } from '../lib/auth'\n\n\nclass Register extends React.Component {\n  state = {\n    formData: {\n      username: '',\n      profile_image: '',\n      email: '',\n      bio: '',\n      password: '',\n      password_confirmation: ''\n    },\n    redirect: false,\n\n    errors: {\n      username: '',\n      profile_image: '',\n      email: '',\n      bio: '',\n      password: '',\n      password_confirmation: ''\n    }\n  }\n\n  handleChange = event => {\n    console.log('change event: ', event.target.name)\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    const errors = { ...this.state.errors, [event.target.name]: '' }\n    this.setState({ formData, errors })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const response = await registerUser(this.state.formData)\n      this.props.history.push('/login')\n      if (response.status === 201) { // If registration goes well, log the user in by running the login user function with the formData, set token and redirect to profile page\n        const loginResponse = await loginUser(this.state.formData)\n        setToken(loginResponse.data.token)\n        this.setState({ redirect: true })\n      }\n\n      if (response.status === 422) throw new Error()\n\n    } catch (err) {\n      console.log('response: ', err.response.data.errors)\n      this.handleErrors(err.response.data.errors) // passing the errors array from the 422 response to handleErrors function as args\n    }\n  }\n\n  handleErrors = (errors) => {\n    let username = ''\n    let email = ''\n    let password = ''\n    let password_confirmation = ''\n\n    if (errors.username) {\n      username = 'name is required'\n    }\n    if (errors.email && errors.email.kind === 'required') {\n      email = 'email is required'\n    }\n    if (errors.email && errors.email.kind === 'unique') {\n      email = 'account already exists'\n    }\n    if (errors.password) {\n      password = 'password is required'\n    }\n    if (errors.password_confirmation){\n      password_confirmation = 'passwords do not match'\n    }\n    this.setState({ errors: { username, email, password, password_confirmation }})\n  }\n\n  render() {\n    const { formData, errors } = this.state\n    console.log(this.state)\n    return (\n      <section>\n        <div>\n          <div>\n            <form onSubmit={this.handleSubmit}>\n              <h1>sign up</h1><br />\n              <div>\n                <div>\n                  <input\n                    className={`input ${errors.username ? 'form-error' : ''}`}\n                    placeholder=\"username\"\n                    name=\"username\"\n                    onChange={this.handleChange}\n                    value={formData.username}\n                  />\n                </div>\n                {/* {errors.name ? <small>{errors.name}</small> : ''} */}\n              </div>\n              <div>\n                <div>\n                  <input\n                    className={`input ${errors.email ? 'form-error' : ''}`}\n                    placeholder=\"email\"\n                    name=\"email\"\n                    onChange={this.handleChange}\n                    value={formData.email}\n                  />\n                </div>\n                {/* {errors.email ? <small>{errors.email}</small> : ''} */}\n              </div>\n              <div>\n                <div>\n                  <input\n                    className={`input ${errors.bio ? 'form-error' : ''}`}\n                    placeholder=\"bio\"\n                    name=\"bio\"\n                    onChange={this.handleChange}\n                    value={formData.bio}\n                  />\n                </div>\n                {/* {errors.email ? <small>{errors.email}</small> : ''} */}\n              </div>\n              <div>\n                <div>\n                  <input\n                    className={`input ${errors.profile_image ? 'form-error' : ''}`}\n                    placeholder=\"profile image URL\"\n                    name=\"profile_image\"\n                    onChange={this.handleChange}\n                    value={formData.profile_image}\n                  />\n                </div>\n                {/* {errors.email ? <small>{errors.email}</small> : ''} */}\n              </div>\n              <div>\n                <div>\n                  <input\n                    className={`input ${errors.password ? 'form-error' : ''}`}\n                    type=\"password\"\n                    placeholder=\"password\"\n                    name=\"password\"\n                    onChange={this.handleChange}\n                    value={formData.password}\n                  />\n                </div>\n                {/* {errors.password && <small>{errors.password}</small>} */}\n              </div>\n              <div>\n                <div>\n                  <input\n                    className={`input ${errors.password_confirmation ? 'form-error' : ''}`}\n                    type=\"password\"\n                    placeholder=\"password confirmation\"\n                    name=\"password_confirmation\"\n                    onChange={this.handleChange}\n                    value={formData.password_confirmation}\n                  />\n                </div>\n                {/* {errors.password_confirmation && <small>{errors.password_confirmation}</small>} */}\n              </div>\n              <div>\n                <button type=\"submit\">Register</button>\n              </div>\n              <h3>already have an account?\n                <Link to={'/login'}>\n                  <span onMouseEnter={(e) =>\n                    e.target.style.color = '#0147F9'}\n                    onMouseLeave={(e) =>\n                      e.target.style.color = '#232323'}\n                  > sign in here</span>\n                </Link>\n              </h3>\n            </form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Register\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { loginUser } from '../lib/api'\nimport { setToken } from '../lib/auth'\n\nclass Login extends React.Component {\n  state = {\n    formData: {\n      email: '',\n      password: ''\n    },\n    error: ''\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData, error: '' })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n\n    try {\n      const res = await loginUser(this.state.formData)\n      setToken(res.data.token) // sending token to local storage\n      this.props.history.push('/people/wines') // redirecting user to Home\n    } catch (err) {\n      this.setState({ error: 'invalid credentials' })\n      console.log('response: ', err.response.data.errors)\n    }\n  }\n\n  // redirecting user back to where they logged in... working on it\ncomponentDidUpdate = prevProps => {\n  console.log(prevProps.history.location)\n}\n\n  render() {\n    const { formData, error } = this.state\n    console.log(this.state)\n    return (\n      <section >\n        <div >\n          <div className=\"form-container\">\n            <form onSubmit={this.handleSubmit}>\n              <div>\n                <label >email</label>\n                <div>\n                  <input\n                    placeholder=\"email\"\n                    name=\"email\"\n                    onChange={this.handleChange}\n                    value={formData.email}\n                  />\n                </div>\n              </div>\n              <div >\n                <label >password</label>\n                <div >\n                  <input\n                    type=\"password\"\n                    placeholder=\"password\"\n                    name=\"password\"\n                    onChange={this.handleChange}\n                    value={formData.password}\n                  />\n                </div>\n                {error && < small>{error}</small>}\n              </div>\n              <div >\n                <button type=\"submit\">login</button>\n              </div>\n              <h3>not a member?\n                <Link to={'/register'}>\n                  <span onMouseEnter={(e) =>\n                    e.target.style.color = '#0147F9'}\n                    onMouseLeave={(e) =>\n                      e.target.style.color = '#232323'}\n                  > register here</span>\n                </Link>\n              </h3>\n            </form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst NotFound = () => {\n  return (\n    <>\n      <h1>\n        page not found.\n          <Link to={`/people/wines`}>\n          <span onMouseEnter={(e) =>\n            e.target.style.color = '#0147F9'}\n            onMouseLeave={(e) =>\n            e.target.style.color = '#232323'} > back to wines </span>\n        </Link>\n      </h1>\n    </>\n  )\n}\n\nexport default NotFound","import React from 'react'\n\nconst Footer = () => (\n  <div className=\"footer\" >\n    <h2>wino .</h2>\n    <ul>\n      <li>newsletter</li>\n      <li>social</li>\n      <li>grower directory</li>\n    </ul>\n  </div>\n)\n\nexport default Footer","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Home from './components/common/Home'\nimport Hero from './components/common/Hero'\nimport Navbar from './components/common/Navbar'\nimport MakerShow from './components/business/MakerShow'\nimport MakersIndex from './components/business/MakersIndex'\nimport Reviews from './components/business/Reviews'\nimport WineShow from './components/business/WineShow'\nimport About from './components/business/About'\nimport WineIndex from './components/business/WineIndex'\nimport Profile from './components/business/Profile'\nimport Register from './components/auth/Register'\nimport Login from './components/auth/Login'\nimport ErrorPage from './components/common/ErrorPage'\nimport Footer from './components/common/Footer'\n// import SecureRoute from './components/auth/SecureRoute'\n\nconsole.log('%cThis app was built by Aino Kytölä, check out my github: github.com/ainokyto', 'color:pink;font-size:15px;font-weight:bold')\n\nconst App = () => (\n  <BrowserRouter >\n    <Navbar />\n    <Hero />\n    <Switch>\n      <Route exact path='/' component={Home} />\n      <Route path='/people/wines/:id' component={WineShow} />\n      <Route path='/people/wines' component={WineIndex} />\n      <Route path='/people/:id' component={MakerShow} />\n      <Route path='/people' component={MakersIndex} />\n      <Route path='/profile' component={Profile} />\n      <Route path='/about' component={About} />\n      <Route path='/register' component={Register} />\n      <Route path='/login' component={Login} />\n      <Route path='/reviews' component={Reviews} />\n      <Route path='/*' component={ErrorPage} />\n    </Switch>\n    <Footer />\n  </BrowserRouter>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}